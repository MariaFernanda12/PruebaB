<!DOCTYPE html>

<html>
    <head>
        <title>Library Soft</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link href="../CSS/layout.css" rel="stylesheet" type="text/css" media="all">
        <script type="text/javascript" src="../scripts/jquery.min.js"></script>
        <script type="text/javascript" src="../scripts/scriptHome.js"></script>
        <link href="../CSS/mystyle.css" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../Images/icono.png">   
        <script>
            window.setTimeout("document.getElementById('contenedor_carga').style.display='none';", 1500);
            $(document).ready(function () {
                obtenerData();
            });
            var table = $('#tabla').DataTable();

            $('#example tbody').on('click', 'tr', function () {
                console.log(table.row(this).data());
            });
            function obtenerData() {
                $.ajax({
                    type: 'GET'
                    , url: "../BuscarElementoPorNombre"
                    , async: true
                    , cache: false
                    , success: function (resp) {
                        
                        $.each(resp, function (indice, inventario) {
                            $("#tabla").append($("<tr>").append(("<td>" + inventario.etiqueta + "</td>"
                                    + "<td>" + inventario.nombre + "</td>"
                                    + "<td>" + inventario.cantidadDisponible + "</td>"
                                    + "<td>" + inventario.ubicacion + "</td>"
                                    + "<td>" + inventario.propiedad + "</td>"
                                    + "<td>" + inventario.responsable + "</td>"
                                    + "<td>" + inventario.area + "</td>"
                                    + "<td>" + inventario.colegio + "</td>")))

                        });
                    }
                });
            }
            function Buscar() {

                var tableReg = document.getElementById('tabla');
                var searchText = document.getElementById('Busqueda').value.toLowerCase();
                var cellsOfRow = "";
                var found = false;
                var compareWith = "";

                for (var i = 1; i < tableReg.rows.length; i++)
                {
                    cellsOfRow = tableReg.rows[i].getElementsByTagName('td');
                    found = false;
                    // Recorremos todas las celdas
                    for (var j = 0; j < cellsOfRow.length && !found; j++)
                    {
                        compareWith = cellsOfRow[j].innerHTML.toLowerCase();
                        // Buscamos el texto en el contenido de la celda
                        if (searchText.length == 0 || (compareWith.indexOf(searchText) > -1))
                        {
                            found = true;
                        }
                    }
                    if (found)
                    {
                        tableReg.rows[i].style.display = '';
                    } else {
                        tableReg.rows[i].style.display = 'none';
                    }
                }
            }




        </script>
    </head>
    <body id="top">
        <div id="contenedor_carga">
            <img src="../Images/titulo1.png" alt="Not-Found">
            <div id="carga"></div>
            <div class="tag">
                <p>Cargando...</p>
            </div>
        </div>
        <div class="wrapper row0">
            <div class="page-container">
                <div id="topbar" class="hoc clear">
                    <ul>
                        <li><p>Usuario:</p></li>
                        <li><p id="ident"></p></li>
                        <li><p id="nombre"></p></li>
                        <li><p id="col"></p></li>
                        <li><p id="curso"></p></li>
                        <li><a onclick="closeSesion();" title="Cerrar Sesión"><i class="fa fa-lg fa-power-off"></i></a></li>
                        <li><a href="perfil.jsp"  title="Mi Perfil"><img alt="NotFound" id="imageUser" src=""/></a></li>

                    </ul>
                </div>
            </div>
        </div>
        <div class="wrapper row1">
            <header id="header" class="hoc clear">
                <div id="logo" class="fl_center">
                    <a href="homeAdmin.jsp"><img id="imagenPrincipal" src="../Images/titulo1.png" alt=""></a>
                </div>

            </header>
        </div>
        <div id="a" class="bgded" style="background-image:url('../Images/background4.jpg');">
            <div class="wrapper row2">
                <nav id="mainav" class="hoc clear"> 
                    <ul class="clear">
                        <li><a href="homeAdmin.jsp">Home</a></li>                       
                        <li><a href="Listados.html">Inventario Disponible</a></li>
                        <li><a href="IngresarInv.html">Ingresar Libro</a></li>
                        <li><a href="Prestamos.html">Prestamos</a></li>
                        <li><a href="Devoluciones.html">Devoluciones</a></li>
                        <li><a href="reservas.jsp">Reservas Pendientes</a></li>
                        <li><a href="historial.html">Historial</a></li>
                        <li class="active"><a href="Busquedas.html">Busquedas</a></li>
                        <li><a href="Estadisticas.html">Estadísticas</a></li>
                        <li><a href="#">Convenios</a></li>
                        <li><a href="#">Cargar base de datos</a></li>
                    </ul>
                </nav>
            </div>
            <div class="wrapper overlay">
                <div id="breadcrumb" class="hoc clear"> 
                    <img src="../Images/tituloBusq.png" alt="NF">
                </div>
            </div>

            <div class="wrapper row3">
                <main class="hoc container clear"> 
                    <div class="content">
                        <div>
                            <input id="Busqueda"  onkeyup="Buscar()" class="btmspace-15" type="text" style="width: 70%; margin-left: 15%; text-align: center;"  placeholder="Busca en Library soft">
                        </div>
                        <table border="1" id="tabla">
                            <thead>
                                <tr>
                                    <th>Etiqueta</th>
                                    <th>Nombre</th>
                                    <th>CantidadDisponible</th>
                                    <th>Ubicacion</th>
                                    <th>Propiedad</th>
                                    <th>Responsable</th> 
                                    <th>Area</th>
                                    <th>Colegio</th>

                                </tr>
                            </thead>

                        </table>
                    </div> 
            </div>
        </div>

        <div class="wrapper row5">
            <div id="copyright" class="hoc clear">
                <p>LibrarySoft &copy; 2017 - Todos los derechos reservados - <a href="#">www.librarysoft.com.co</a></p>
            </div>
        </div>
        <a id="backtotop" href="#top"><i class="fa fa-chevron-up"></i></a>
        <!-- JAVASCRIPTS -->
        <script language="JavaScript" type="text/javascript" src="../scripts/jquery.min.js"></script>
        <script language="JavaScript" type="text/javascript" src="../scripts/jquery.backtotop.js"></script>
        <script language="JavaScript" type="text/javascript" src="../scripts/jquery.mobilemenu.js"></script> 
    </body>
</html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                